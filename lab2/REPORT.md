#№ Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Абросимов А.Д.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

Опишите своими словами, какие подходы существуют к решению логических задач. Почему Prolog оказывается удобным языком для написания решателей таких задач?

Существует несколько подходов к решению логических задач. Обычно используется метод рассуждений и метод таблиц. Метод рассуждений представляет собой рассуждение над всеми условиями задачи. Такой метод подходит для крайне простых задач, в которых простые условия. Для более сложных задач используется метод таблиц. Он позволяет визуализировать условия и их выполнение/невыполнение, что существенно облегчает решение задачи. Существует ещё несколько методов, но они гораздо более узконаправленные.
Пролог оказывается невероятно удобным языком для написания решателей таких задач, потому что он позволяет переписать задачу в другом виде : в виде фактов и связей. Пролог с помощью фактов и связей ищет ответ, который будет соответствовать всем условиям задачи.

## Задание

Как-то раз случай свел в купе известного астронома, поэта, прозаика и драматурга. Это были Алексеев, Борисов, Константинов и Дмитриев. Оказалось, что каждый из них взял с собой книгу, написанную одним из пассажиров этого купе. Алексеев и Борисов углубились в чтение, предварительно обменявшись купленными книгами. Поэт читал пьесу. Прозаик, очень молодой человек, выпустивший свою первую книгу, говорил, что он никогда ничего не читает по астрономии. Борисов купил в дорогу одно из произведений Дмитриева. Никто из пассажиров не покупал и не читал книги, написанные им самим. Что читал каждый из них? Кто кем был?

## Принцип решения
В решении создается список  Listofpassangers = [passenger(X, XRead, XBuy, XWrite), passenger(Y, YRead, YBuy, YWrite),passenger(Z, ZRead, ZBuy, ZWrite), passenger(L, LRead, LBuy, LWrite)], в котором каждому пассажиру сопоставляется имя,что читает, что купил и что написал. До этого в виде фактов изложены имена и профессии. Решение заключается в последовательном переписывании условий задачи, учитывая то,что пассажиры представлены в виде списка.Суть решения:
"Оказалось, что каждый из них взял с собой книгу, написанную одним из пассажиров этого купе." можно переписать в следующем виде :
```                         profession(XWrite), profession(YWrite),
                            profession(ZWrite), profession(LWrite),
                            no_repetitions([XWrite, YWrite, ZWrite, LWrite]),
                            profession(XBuy), profession(YBuy),
                            profession(ZBuy), profession(LBuy),
                            no_repetitions([XBuy, YBuy, ZBuy, LBuy]),
                            profession(XRead), profession(YRead),
                            profession(ZRead), profession(LRead),
                            no_repetitions([XRead, YRead, ZRead, LRead]),
```
Здесь же ещё и учтено последнее условие "Никто из пассажиров не покупал и не читал книги, написанные им самим."
"Алексеев и Борисов углубились в чтение, предварительно обменявшись купленными книгами." - можно переписать в следующем виде:
```                         member(passenger(alekseev, AlekseevRead, AlekseevBuy, _), Listofpassangers),
                            member(passenger(borisov, AlekseevBuy, AlekseevRead, _), Listofpassangers).
```
"Поэт читал пьесу" - можно переписать в следующем виде, учитывая, что пьеса принадлежит Драматургу:
``` 
                            member(passenger(_, dramaturg, _, poet), Listofpassangers),
```
"Прозаик, очень молодой человек, выпустивший свою первую книгу, говорил, что он никогда ничего не читает по астрономии. 
Борисов купил в дорогу одно из произведений Дмитриева." - можно переписать в следующем виде, сделав вывод о том,
что Прозаик не покупает и не читает книги от астронома и Дмитриев не Прозаик:
```                         not(member(passenger(_, astronom, _, prozaik), Listofpassangers)),
                            not(member(passenger(_, _, astronom, prozaik), Listofpassangers)),
                            not(member(passenger(dmitriev, _, _, prozaik), Listofpassangers)),      
```
"Борисов купил в дорогу одно из произведений Дмитриева." - можно переписать в следующем виде, сделав вывод о том,
что книга,написанная Дмитриевым, и книга,купленная Борисовым, - одно и то же.                     
```                          member(passenger(dmitriev, _, _, DmitrievWrite), Listofpassangers),
                             member(passenger(borisov, DmitrievWrite, _, _), Listofpassangers),
```
Для удобства был сделан вывод следующим образом:
```                           write(X),write(" is "),write(XWrite),write(" and was reading book of "),write(XRead),nl,
                              write(Y),write(" is "),write(YWrite),write(" and was reading book of "),write(YRead),nl,
                              write(Z),write(" is "),write(ZWrite),write(" and was reading book of "),write(ZRead),nl,
                              write(L),write(" is "),write(LWrite),write(" and was reading book of "),write(LRead),nl.
```
## Выводы
Данная лабораторная работа показала силу использования пролога в решении логических задач.
В других языках программирование решение этой задачи либо было бы невозможным, либо заняло
в разы больше строк кода.Результатом работы программы является непротиворечивое единственно 
верное решение, при котором соблюдены все условия задачи.К тому же, в процессе решения
закрепился навык владения списком в прологе, навык использования отсечения и навык использования write() с nl.




